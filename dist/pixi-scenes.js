(()=>{var h=Object.defineProperty;var d=(n,e,t)=>e in n?h(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var l=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var s=(n,e,t)=>d(n,typeof e!="symbol"?e+"":e,t);var r=l("https://cdn.jsdelivr.net/npm/pixi.js/dist/pixi.mjs");var u=class extends r.Container{constructor(){super(...arguments);s(this,"manager",null)}init(){}*start(t,i){}tick(t){}*end(t){}},c=class{constructor(e){s(this,"currentScene",null);s(this,"_endAnimIter",null);s(this,"_queuedScene",null);s(this,"_queuedSceneMessage",null);s(this,"_startAnimIter",null);s(this,"_scenes",new Map);s(this,"ticker",r.Ticker.shared);s(this,"app");s(this,"screen");this.app=e,this.screen=e.screen,this.ticker.add(function({deltaTime:t}){this._endAnimIter&&this._endAnimIter.next(t).done&&(this._endAnimIter=null,this.app.stage.removeChild(this.currentScene),this.currentScene=this._queuedScene,this.app.stage.addChild(this._queuedScene),this._startAnimIter=this.currentScene.start(t,this._queuedSceneMessage),this._queuedScene=this._queuedSceneMessage=null),this._startAnimIter&&this._startAnimIter.next(t).done&&(this._startAnimIter=null),this.currentScene&&this.currentScene.tick(t)}.bind(this))}register(e,t){t.manager=this,this._scenes.set(e,t),t.init()}changeSceneTo(e=null,t=null){if(this.currentScene){if(this._endAnimIter=this.currentScene.end(),this._queuedSceneMessage=t,e!==null){let i=this._scenes.get(e);if(!i)throw new Error(`Scene ${e} not found.`);this._queuedScene=i}}else if(e!==null){let i=this._scenes.get(e);if(!i)throw new Error(`Scene ${e} not found.`);this.currentScene=i,this.app.stage.addChild(i)}}};})();
//# sourceMappingURL=pixi-scenes.js.map
